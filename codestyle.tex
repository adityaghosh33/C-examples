\lstset{
    language=C++,
    backgroundcolor=\color{black!5},
    backgroundcolor=\color{white},
    basicstyle=\ttfamily\footnotesize,
    basicstyle=\ttfamily\small,
    basicstyle=\ttfamily\normalsize,
    breaklines=true,
    prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
    frame=lines,
    frame=none,
    showtabs=false,
    showspaces=false,
    showstringspaces=false,
    keywordstyle=\color{red}\bfseries,
    stringstyle=\color{green!50!black},
    commentstyle=\normalfont\color{gray}\footnotesize,
    commentstyle=\rmfamily\color{gray}\footnotesize,
    commentstyle=\color{gray}\itshape,
    commentstyle=\color{gray},
    tabsize=2,
    tabsize=4,
    numbers=none,
    numberstyle=\ttfamily\scriptsize\color{blue},
    captionpos=b,
    escapeinside={\%*}{*)},
    columns=flexible,
    keepspaces=true
}

